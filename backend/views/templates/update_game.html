{% extends "base.html" %}

{% block title %} Update game - GAMESITOS HUB {% endblock %}

{% block nav %}

    <nav class="navbar navbar-expand-lg navbar-light bg-dark p-3" style="height: 70px;">
        <div class="container">
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar-videogames">
                <span class="navbar-toggler-icon" ></span>
            </button>

            <a class="navbar-brand" href="/videogames">
                <img src="../static/img/navbar-image.png" alt="navbar-image" width="100" height="100">
            </a>

            <div class="collapse navbar-collapse" id="navbar-videogames">
                <ul class="nav justify-content-center nav-pills w-100">
                    <li class="nav-item">
                        <a href="/videogames" class="nav-link">ALL GAMES</a>
                    </li>
                    <li class="nav-item">
                        <a href="/videogames/post-game" class="nav-link">ADD GAME</a>
                    </li>
                    <li class="nav-item">
                        <a href="/videogames/update-game" class="nav-link bg-outline-danger active">UPDATE GAME</a>
                    </li>
                    <li class="nav-item">
                        <a href="/videogames/delete-game" class="nav-link">DELETE GAME</a>
                    </li>
                    <form class="d-flex ms-auto" role="search">
                        <input class="form-control me-2 bg-dark border-primary" type="search" placeholder="Search.." aria-label="Search" style="color:white">
                        <button class="btn btn-outline-primary" type="submit">Search</button>
                    </form>
                    <li class="nav-item ms-auto">
                        <a href="/logout" class="nav-link">Salir</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

{% endblock %}

<header> 
    {% block header %} {% endblock %}
</header>

<main>
{% block contain %}
    <div class="container mt-5">
        <div class="container mb-3 border border-2 border-primary rounded-4 shadow-lg p-3 bg-dark" style="max-width: 400px; width: 100%;">
            <form id="updateForm" method="POST" >
                <div class="container mb-3">
                    <select class="form-select border border-primary" id="videogame_id" name="videogame_id" required>
                        <option value="" class="text-center" selected>Please select the ID to update</option>
                        {% for videogame in videogames %}
                            <option class="text-center" value='{{ videogame["id"] }}'>
                                ID: {{ videogame["id"] }} - {{ videogame["title"] }}
                            </option>
                        {% endfor %}
                    </select>
                </div>
                <div class="container mb-3">
                    <label for="">Title: </label>
                    <input class="border border-primary rounded-2"type="text" name="title" id="title" required><br>
                </div>
                <div class="container mb-3">
                    <label class="form-heck-label" for="completed">Completed:</label>
                    <input class="form-check-input border border-primary" type="hidden" name="completed" value="false">
                    <input class="form-check-input border border-primary" type="checkbox" name="completed" id="completed" value="true"><br>
                </div>
                <div class="container mb-3">
                    <label for="my_score">My score:</label> 
                    <input class=" border border-primary rounded-2"type="number" name="my_score" min="1" max="10" id="my_score" required><br>
                </div>
                <div class="container mb-3">
                    <label class="form-check-label" for="favourite">Favourite:</label> 
                    <input class="form-check-input border border-primary" type="hidden" name="favourite" value="false">
                    <input class="form-check-input border border-primary" type="checkbox" name="favourite" value="true" id="favourite"><br>
                </div>
                <div class="input-group">
                    <label class="input-group-text border border-primary">My opinion:</label>
                    <input class="form-control border border-primary"aria-label="With textarea" type="text" name="my_opinion" id="my_opinion" required><br>
                </div>
                <div class="container mb-3 p-2 text-center">
                <button type="submit" class="btn btn-primary" id="updateButton">UPDATE</button>
                </div>
            </form>
            
        </div>
    </div>
{% endblock %}

{% block script %}
<script src="{{ url_for('static', filename='js/update.js') }}"></script>
{% endblock %}
</main>